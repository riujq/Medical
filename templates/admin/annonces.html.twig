{% extends 'admin.html.twig' %}
{% block title %}Listes des annonces{% endblock %}
{% block body %}
{% include 'admin/_modal.html.twig'%}
        <div class="card my-2">
            <div class="card-header">
                <i class="bi bi-table fs-5 me-1"></i>
                Listes des annonces
            </div>
            <div class="card-body">
                <Table class="table table-hover table-bordered" id="datatablesSimple">
                <a href="{{path('admin_annonces_add')}}" class="btn btn-sm btn-success mb-2"><i class="bi bi-plus-lg"></i> Ajouter une annonce</a>
                    <thead>
                        <tr>
                            <th>id</th>                          
                            <th>Titre</th>
                            <th>Contenue</th>
                            <th>Active</th>
                            <th class='text-center'>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                            {% for annonce in annonces %}
                                <tr>
                                    <td>{{annonce.id}}</td>
                                    <td>{{annonce.titre}}</td>
                                    <td>{{annonce.content}}</td>
                                    <td>
                                        {% if annonce.active %}
                                            {% set name="oui" %}
                                            {% set color="success" %}
                                        {% else %}
                                            {% set name="non" %}
                                            {% set color="danger" %}
                                        {% endif %}
                                        <span class="badge bg-{{color}}">{{name}}</span>
                                    </td>
                                    <td class='text-center'>
                                        <a href="{{path('admin_annonces_edit',{'id':annonce.id})}}" class="btn-sm edit m-2">
                                        <i class="bi bi-pencil-square fs-5 text-warning"></i></a>
                                        <a href="{{path('admin_annonces_delete',{'id':annonce.id})}}" class="btn-sm btn-del m-2">
                                        <i class="bi bi-trash-fill fs-5 text-danger"></i></a>
                                        <a href="{{path('admin_annonces_active',{'id':annonce.id})}}" class="btn btn-sm btn-primary m-2">Activer</a>
                                    </td>
                                </tr>
                            {% endfor %}
                    </tbody>
                </Table>
            </div>
        </div>
{% endblock %}